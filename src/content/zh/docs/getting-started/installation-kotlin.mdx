---
title: "å®‰è£… Kastrax | å…¥é—¨æŒ‡å— | Kastrax æ–‡æ¡£"
description: "å…³äºå®‰è£… Kastrax å¹¶ä¸ºæ‚¨çš„ Kotlin é¡¹ç›®è®¾ç½®å¿…è¦å…ˆå†³æ¡ä»¶çš„æŒ‡å—ã€‚"
---

# å®‰è£… Kastrax âœ…

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨ä»å¤´å¼€å§‹è®¾ç½®ä¸€ä¸ªæ–°çš„ Kastrax é¡¹ç›®ã€‚

## å…ˆå†³æ¡ä»¶ âœ…

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²å®‰è£…ä»¥ä¸‹å†…å®¹ï¼š

- **JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬**ï¼šKastrax éœ€è¦ Java 17+
- **Kotlin 2.0 æˆ–æ›´é«˜ç‰ˆæœ¬**ï¼šKastrax ä½¿ç”¨ Kotlin æ„å»º
- **Gradle 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬**ï¼šç”¨äºæ„å»ºå’Œç®¡ç†ä¾èµ–é¡¹

## åˆ›å»ºæ–°é¡¹ç›® âœ…

### é€‰é¡¹ 1ï¼šä½¿ç”¨ Gradle âœ…

1. åˆ›å»ºä¸€ä¸ªæ–°çš„ Gradle é¡¹ç›®ï¼š

```bash
mkdir my-kastrax-project
cd my-kastrax-project
gradle init --type kotlin-application
```

2. é…ç½®æ‚¨çš„ `build.gradle.kts` æ–‡ä»¶ï¼š

```kotlin
plugins {
    kotlin("jvm") version "2.1.10"
    kotlin("plugin.serialization") version "2.1.10"
    application
}

group = "com.example"
version = "1.0-SNAPSHOT"

repositories {
    mavenCentral()
}

dependencies {
    // Kastrax æ ¸å¿ƒ
    implementation("ai.kastrax:kastrax-core:0.1.0")
    
    // æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©å¯é€‰æ¨¡å—
    implementation("ai.kastrax:kastrax-memory-impl:0.1.0")
    implementation("ai.kastrax:kastrax-integrations-deepseek:0.1.0")
    
    // æµ‹è¯•
    testImplementation(kotlin("test"))
}

application {
    mainClass.set("com.example.MainKt")
}
```

### é€‰é¡¹ 2ï¼šä½¿ç”¨ Kastrax CLIï¼ˆå³å°†æ¨å‡ºï¼‰ğŸš§

æœªæ¥ï¼Œæ‚¨å°†èƒ½å¤Ÿä½¿ç”¨ Kastrax CLI åˆ›å»ºæ–°é¡¹ç›®ï¼š

```bash
# è¿™æ˜¯æœªæ¥åŠŸèƒ½çš„é¢„è§ˆ
kastrax init my-kastrax-project
cd my-kastrax-project
```

## API å¯†é’¥è®¾ç½® âœ…

Kastrax æ”¯æŒå¤šä¸ª LLM æä¾›å•†ã€‚æ‚¨éœ€è¦ä¸ºæ‚¨æƒ³è¦ä½¿ç”¨çš„æä¾›å•†è®¾ç½® API å¯†é’¥ï¼š

### DeepSeekï¼ˆæ¨èï¼‰âœ…

```kotlin
val llm = deepSeek {
    apiKey("your-deepseek-api-key")
    model(DeepSeekModel.DEEPSEEK_CHAT)
}
```

### OpenAI âœ…

```kotlin
val llm = openAi {
    apiKey("your-openai-api-key")
    model("gpt-4o")
}
```

### Anthropic âœ…

```kotlin
val llm = anthropic {
    apiKey("your-anthropic-api-key")
    model("claude-3-opus")
}
```

## é¡¹ç›®ç»“æ„ âœ…

ä¸€ä¸ªå…¸å‹çš„ Kastrax é¡¹ç›®å…·æœ‰ä»¥ä¸‹ç»“æ„ï¼š

```
my-kastrax-project/
â”œâ”€â”€ build.gradle.kts
â”œâ”€â”€ settings.gradle.kts
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ kotlin/
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ example/
â”‚   â”‚   â”‚           â”œâ”€â”€ Main.kt
â”‚   â”‚   â”‚           â”œâ”€â”€ agents/
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MyAgent.kt
â”‚   â”‚   â”‚           â”œâ”€â”€ tools/
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MyTools.kt
â”‚   â”‚   â”‚           â””â”€â”€ workflows/
â”‚   â”‚   â”‚               â””â”€â”€ MyWorkflow.kt
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â””â”€â”€ application.conf
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ kotlin/
â”‚           â””â”€â”€ com/
â”‚               â””â”€â”€ example/
â”‚                   â””â”€â”€ AgentTest.kt
â””â”€â”€ gradle/
    â””â”€â”€ wrapper/
        â”œâ”€â”€ gradle-wrapper.jar
        â””â”€â”€ gradle-wrapper.properties
```

## éªŒè¯å®‰è£… âœ…

åˆ›å»ºä¸€ä¸ªç®€å•çš„ä»£ç†æ¥éªŒè¯æ‚¨çš„å®‰è£…ï¼š

```kotlin
// src/main/kotlin/com/example/Main.kt
package com.example

import ai.kastrax.core.agent.agent
import ai.kastrax.integrations.deepseek.deepSeek
import ai.kastrax.integrations.deepseek.DeepSeekModel
import kotlinx.coroutines.runBlocking

fun main() = runBlocking {
    val myAgent = agent {
        name("æµ‹è¯•ä»£ç†")
        description("ä¸€ä¸ªç®€å•çš„æµ‹è¯•ä»£ç†")
        
        model = deepSeek {
            apiKey("your-deepseek-api-key")
            model(DeepSeekModel.DEEPSEEK_CHAT)
            temperature(0.7)
        }
    }
    
    val response = myAgent.generate("ä½ å¥½ï¼Œä¸–ç•Œï¼")
    println(response.text)
}
```

è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼š

```bash
gradle run
```

å¦‚æœä¸€åˆ‡è®¾ç½®æ­£ç¡®ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°æ¥è‡ªæ‚¨çš„ä»£ç†çš„å“åº”ã€‚

## ä¾èµ–ç®¡ç† âœ…

Kastrax æ˜¯æ¨¡å—åŒ–çš„ï¼Œå…è®¸æ‚¨åªåŒ…å«æ‚¨éœ€è¦çš„ç»„ä»¶ï¼š

| æ¨¡å— | æè¿° | ä¾èµ– |
|--------|-------------|------------|
| kastrax-core | æ ¸å¿ƒä»£ç†åŠŸèƒ½ | `ai.kastrax:kastrax-core:0.1.0` |
| kastrax-memory-api | è®°å¿†ç³»ç»Ÿ API | `ai.kastrax:kastrax-memory-api:0.1.0` |
| kastrax-memory-impl | è®°å¿†ç³»ç»Ÿå®ç° | `ai.kastrax:kastrax-memory-impl:0.1.0` |
| kastrax-rag | æ£€ç´¢å¢å¼ºç”Ÿæˆ | `ai.kastrax:kastrax-rag:0.1.0` |
| kastrax-integrations-deepseek | DeepSeek LLM é›†æˆ | `ai.kastrax:kastrax-integrations-deepseek:0.1.0` |
| kastrax-integrations-openai | OpenAI é›†æˆ | `ai.kastrax:kastrax-integrations-openai:0.1.0` |
| kastrax-integrations-anthropic | Anthropic é›†æˆ | `ai.kastrax:kastrax-integrations-anthropic:0.1.0` |

## é…ç½® âœ…

æ‚¨å¯ä»¥ä½¿ç”¨èµ„æºç›®å½•ä¸­çš„ `application.conf` æ–‡ä»¶é…ç½® Kastraxï¼š

```hocon
kastrax {
  # é»˜è®¤ LLM æä¾›å•†
  default-llm-provider = "deepseek"
  
  # è®°å¿†é…ç½®
  memory {
    default-storage = "sqlite"
    sqlite {
      database = "kastrax-memory.db"
    }
  }
  
  # æ—¥å¿—é…ç½®
  logging {
    level = "INFO"
    format = "json"
  }
}
```

## ä¸‹ä¸€æ­¥ âœ…

ç°åœ¨æ‚¨å·²ç»è®¾ç½®äº† Kastrax é¡¹ç›®ï¼Œæ‚¨å¯ä»¥ï¼š

1. [åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªä»£ç†](./first-agent.mdx)
2. [æ¢ç´¢ç¤ºä¾‹](./examples.mdx)
3. [äº†è§£ä»£ç†æ¶æ„](../agents/architectures.mdx)
